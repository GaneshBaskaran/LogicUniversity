@using LogicUniversity.Models
@model LogicUniversity.Models.ItemCodeRequisition


@{
    ViewBag.Title = "Create";
    var ICRList = (List<ItemCodeRequisition>)ViewData["ICRList"];
}

<h2>Create</h2>


@using (Html.BeginForm())
{
    @Html.AntiForgeryToken()

    <div class="form-horizontal">
        <table border="1">
            <tr>
                <th>Product</th>
                <th>Retrieved</th>
                <th>Qty In Inventory</th>
                <th>Total Needed</th>
                <th>Dept Name</th>
                <th>Needed</th>
            </tr>
            @{
                //To make unique Id
                int i = 0;
                foreach (var item in ICRList)
                {

                    <tr>
                        <td>
                            @item.Product.Description
                        </td>
                        <td>
                            <input type="number" name="ICR[@i].retrieved" />
                        </td>
                        <td>
                            @item.QtyInInventory
                        </td>
                        <td>
                            @item.TotalNeeded
                        </td>
                        <td>
                            <table>
                                @foreach (Department j in item.DeptName)
                                {
                                    <tr>@j.DeptName</tr><br />

                                }
                            </table>
                            </td>
                            <td>
                                <table>
                                    @foreach (double k in item.NeededList)
                                    {
                                        <tr>@k</tr><br />

                                    }
                                </table>
                                </td>
                                </tr>
                                i++;
                            }
            }

            
            @*<tr>
            <td colspan="2" align="right"><input type="submit" value="Create" /></td>
        </tr>*@
        </table>
    </div>
}

<div>
    @Html.ActionLink("Back to List", "Index")
</div>

@section Scripts {
    @Scripts.Render("~/bundles/jqueryval")
}
